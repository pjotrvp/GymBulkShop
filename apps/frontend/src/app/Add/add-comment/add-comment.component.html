<div class="review-add">
  <h2 class="review-add-title">Write a review</h2>
  <h4 class="subtitle">{{ supplement?.name }}</h4>
  <a class="btn" routerLink="..">&larr; Back</a>
  <div class="review-add-form">
    <form
      #reviewAddForm="ngForm"
      name="form"
      (ngSubmit)="reviewAddForm.form.valid && postReview()"
    >
      <div class="form-group">
        <label>Title</label>
        <input
          type="text"
          class="form-control"
          id="title"
          name="title"
          [(ngModel)]="review!.title"
          #title="ngModel"
          required
          [ngClass]="{
            'is-invalid': title.invalid && (title.dirty || title.touched)
          }"
        />
        <div
          *ngIf="title.invalid && (title.dirty || title.touched)"
          class="invalid-feedback"
        >
          <div *ngIf="title.errors?.['required']">Title is required</div>
        </div>
      </div>

      <div class="form-group">
        <label>Text</label>
        <textarea
          class="form-control"
          id="text"
          name="text"
          [(ngModel)]="review!.text"
          #text="ngModel"
          required
          rows="3"
          [ngClass]="{
            'is-invalid': text.invalid && (text.dirty || text.touched)
          }"
        ></textarea>
        <div
          *ngIf="text.invalid && (text.dirty || text.touched)"
          class="invalid-feedback"
        >
          <div *ngIf="text.errors?.['required']">Text is required</div>
        </div>
      </div>
      <div class="form-group">
        <label for="rating">Rating</label>
        <select
          class="form-control"
          [(ngModel)]="review!.rating"
          #rating="ngModel"
          name="rating"
          required
        >
          <option value="5" selected>5</option>
          <option value="4">4</option>
          <option value="3">3</option>
          <option value="2">2</option>
          <option value="1">1</option>
        </select>
      </div>

      <button
        type="submit"
        class="btn add"
        [disabled]="reviewAddForm.form.invalid"
      >
        Submit
      </button>
    </form>
  </div>
</div>
